{% extends "master.html" %}

{% load static %}

{% block head %}
<meta charset="UTF-8">
<title>Modificar Producto</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
{% endblock head %}

{% block body %}
<div class="container mt-5">
    <h1 class="mb-4">Modificar Producto</h1>
    <form method="POST">
        {% csrf_token %}
        <div class="form-group">
            <label for="id_nombre">Nombre:</label>
            <input type="text" class="form-control" id="id_nombre" name="nombre" value="{{ form.instance.nombre }}">
        </div>
        <div class="form-group">
            <label for="id_descripcion">Descripción:</label>
            <textarea class="form-control" id="id_descripcion" name="descripcion" rows="3">{{ form.instance.descripcion }}</textarea>
        </div>
        <div class="form-group">
            <label for="id_precio">Precio:</label>
            <input type="number" class="form-control" id="id_precio" name="precio" value="{{ form.instance.precio }}">
        </div>
        <div class="form-group">
            <label for="id_stock">Stock:</label>
            <input type="number" class="form-control" id="id_stock" name="stock" value="{{ form.instance.stock }}">
        </div>
        <div class="form-group">
            <label for="id_proveedor">Proveedor:</label>
            <select class="form-control" id="id_proveedor" name="proveedor">
                {% for proveedor_id, proveedor_nombre in form.fields.proveedor.choices %}
                <option value="{{ proveedor_id }}" {% if proveedor_id == form.instance.proveedor %} selected {% endif %}>{{ proveedor_nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <div class="form-group">
            <label for="id_categorias">Categorías:</label>
            <select class="form-control" id="id_categorias" name="categorias" multiple>
                {% for categoria_id, categoria_nombre in form.fields.categorias.choices %}
                <option value="{{ categoria_id }}" {% if categoria_id in form.instance.categorias.all %} selected {% endif %}>{{ categoria_nombre }}</option>
                {% endfor %}
            </select>
        </div>
        <button type="submit" class="btn btn-primary">Guardar Cambios</button>
    </form>
</div>
<script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
{% endblock %}